---
aliases:
  - 011 트랜잭션의 개요
tags:
  - Transaction
  - DB
author: Min Jo
created: 2025-04-26
---

# 트랜잭션의 개요 
---

서비스 운영하면서 DB 성능 저하 이슈가 발생하면, 특정 쿼리만 골라서 성능을 개선하였다.
하지만 이러한 경우 다수의 쿼리가 동시에 실행되거나, 중간에 실패하였을 때 데이터가 꼬이는 현상이 발생하면서 성능 최적화 뿐만 아니라 트랜잭션 자체의 이해가 더 중요한 문제임을 깨달았다.

이 글을 통해 트랜잭션의 개념을 깊이있게 이해하고자 한다.

---

흔히 DB를 사용한다면 트랜잭션과 트랜잭션의 특징(ACID)를 간단하게 알고있겠지만 
깊이 있게 트랜잭션을 이해하고 쿼리를 작성하지는 않는다고 생각한다.

트랜잭션을 깊이 있게 이해하면 동시성 제어, 트랜잭션 분산 처리, 성능 최적화, 고립성 수준(Isolation Level) 등일 이해하며 데이터베이스를 
다룰 수 있기에, 이해하고자 한다. 동시에 개발자 관점에서 이기때문에 실습까지 진행하며 확인하고자 한다.  (기본적으로 DDL, DML, DCL 명령어를 사용해보고 개념을 알고있다는 전제로 작성한다.)

---

### 트랜잭션 

트랜잭션 → DB의 상태를 변경시키는 작업의 단위 
한 번에 수행되어야 할 연산들을 하나의 단위로 묶는다.
연산들이 모두 처리되지 못하면 전체 작업은 원래 상태로 복구되고, 일부만 적용되는 일이 없다.
이를 통해 트랜잭션의 작업의 **완정성**을 보장해준다.

---

보통 `SELECT`는 단순히 데이터를 조회하는 쿼리이기 때문에 트랜잭션과는 무관하다고 생각하기 쉽습니다.

하지만 대부분의 DBMS는 `SELECT`도 하나의 **읽기 전용 트랜잭션 (Read-Only Transaction)**으로 처리합니다.

즉, 아래와 같은 쿼리를 실행했을 때도

```sql
#### user 테이블을 조회하는 경우 

```sql
SELECT * FROM user; 
```

내부적으로는 다음과 같이 트랜잭션이 시작되고 자동으로 종료됩니다:

```sql 
BEGIN;
SELECT * FROM user;
COMMIT;
```

이처럼 트랜잭션은 **데이터를 바꾸는 작업뿐 아니라 조회하는 작업에도 적용**된다는 점을 기억해야 합니다.

----

✅ 트랜잭션 정리 요약
- `COMMIT`, `Rollback `
  → 사용자의 입장에서 트랜잭션을 직접 다루는 단위
- `SELECT
  →`대부분의 DB에서 Auto Commit으로 설정되어, 내부적으로 트랜잭션을 시작하고 바로 종료된다. 
- `INSERT`, `UPDATE`, `DELETE` 
   → Auto commit 모드에서는 자동으로 트랜잭션이 종료된다.
   → 수동 트랜잭션 모드에서는 명시적인  `COMMIT`, `ROLLBACK` 이 필요하다.

---



#### 3. 트랜잭션 정리 요약 부분 가독성 개선

현재 내용도 좋지만, 표 형태나 리스트 강조로 살짝 정리하면 더 읽기 좋을 거예요:

✅ **트랜잭션 정리 요약**

| 명령어 유형         | 트랜잭션 처리 방식                                      |
|--------------------|--------------------------------------------------------|
| `COMMIT`, `ROLLBACK` | 수동 트랜잭션 종료를 위한 명령어                         |
| `SELECT`            | 대부분의 DB에서 자동 커밋 (Auto Commit) → 내부적으로 트랜잭션 수행 |
| `INSERT`, `UPDATE`, `DELETE` | Auto Commit 모드에서는 자동 종료<br>수동 모드에서는 명시적인 COMMIT 또는 ROLLBACK 필요 |


