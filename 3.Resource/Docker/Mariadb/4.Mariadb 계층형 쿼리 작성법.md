

# MariaDB 계층형 쿼리 작성법

```sql
WITH RECURSIVE department_hierarchy AS (
	SELECT *
	FROM department_record 
	UNION ALL 
	SELECT dr.*
	FROM department_record dr
		INNER JOIN department_hierarchy dh on dr.parentId = dh.departmentId
	WHERE dr.departmentTypeId = 3
		and dr.fiscalYear = dh.fiscalYear 
)
```

---
