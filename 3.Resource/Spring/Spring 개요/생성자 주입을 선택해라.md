최신 모든 DI 프레임워크는 대부분 생성자 주입을 권장한다.

#### 불변
- 대부분의 의존관계 주입은 한 번 일어나면 종료시점까지 변경할 일이 없다. 애플리케이션 종료 전까지 변하면 안된다.
-  수정자 주입을 사용하면 setXxx 메서드를, public으로 열어두어야한다.
- 누군가 실수로 변경할 수 있고, 변경하면 안되는 메서드를 열어두는것은 좋은 설계 방법이 아니다.
- 생성자 주입은 객체를 생성할 때 한 번만 호출되도록 설정한다.

// test를 순수한 자바로 할 경우에는 new로 객체를 계속 호출하여 사용하여야한다.  
// final을 사용하면 처음 사용한 객체의 불변성이 보장이되고  
// spring을 사용하면 new로 객체를 생성할 필요없이 싱글톤이 보장된 객체를 생성할 수 있게된다.

---

조회 bean이 2개이상이면 오류가 발생할 수 있다.

생성자주입은 불변하며 , final 키워드를 사용할 수 있어 안정적이다.
set이나 필드주입은 final을 사용하지 못한다.

---

생성자 주입을 선택하는 이유는 프레임워크에 의존하지 않고, 
순수한 자바 언어의 특징을 잘 살리는 방법이다.

기본으로 생성자 주입을 사용하고 필수값이 아닌 경우에는 수정자 주입 방식을 옵션으로 부여한다. 생성자 주입과 수정자 주입을 동시에 사용할 수 있다.

항상 생성자 주입을 선택해라 ! 가끔 옵션이 필요하면 수정자 주입
필드 주입은 금지 (테스트 시 값을 넣어주기가 힘들다.)

---

1.역할에 의존해야지(인터페이스)구현(구현체)에 의존하면 안된다.

2.@Autowired 매칭 정리

1.타입 매칭
2.타입 매칭의 결과가 2개 이상일 때 필드 명, 파라미터 명으로 빈 이름 매칭

`@Qualifier("rateDiscountPolicy) DiscountPolicy discountPlicy` - qualifier는 명확하지 않기 때문에 사용을 최대한 자제한다. 모두 다 통일 시키는것을 제외하고 

`@Primay `